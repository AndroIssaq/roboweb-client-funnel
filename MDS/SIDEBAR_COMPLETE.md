# ğŸ¨ Sidebar Ø§Ø­ØªØ±Ø§ÙÙŠ - Ù…ÙƒØªÙ…Ù„

## âœ… Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:

### **1. Sidebar Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª** âœ…
- âœ… Admin
- âœ… Affiliate  
- âœ… Client

### **2. Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ù‚ÙÙ„ ÙˆØ§Ù„ÙØªØ­** âœ…
- âœ… Ø²Ø± Toggle ÙÙŠ Desktop
- âœ… ÙŠØ­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ localStorage
- âœ… Animation smooth

### **3. Responsive Design** âœ…
- âœ… Desktop: Sidebar Ø«Ø§Ø¨Øª Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†
- âœ… Mobile: Sidebar Ù…Ù†Ø²Ù„Ù‚ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ†
- âœ… Overlay Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„

### **4. Badge Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª** âœ…
- âœ… ÙŠØ¸Ù‡Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©
- âœ… Realtime updates
- âœ… ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ù‚ÙÙˆÙ„: Ù†Ù‚Ø·Ø© Ø­Ù…Ø±Ø§Ø¡

### **5. Animations** âœ…
- âœ… Smooth transitions (300ms)
- âœ… Hover effects
- âœ… Active state
- âœ… Collapse/Expand animation

---

## ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:

### **1. components/layout/app-sidebar.tsx** âœ…
```typescript
âœ… Sidebar Component Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
âœ… ÙŠØ¹Ù…Ù„ Ù„Ù„Ø£Ø¯Ù…Ù† ÙˆØ§Ù„Ø´Ø±ÙŠÙƒ ÙˆØ§Ù„Ø¹Ù…ÙŠÙ„
âœ… Collapse/Expand functionality
âœ… Mobile responsive
âœ… Badge notifications
âœ… Smooth animations
```

### **2. components/layout/sidebar-layout.tsx** âœ…
```typescript
âœ… Wrapper Component
âœ… ÙŠØ³ØªÙ‚Ø¨Ù„ userRole, userId, userName
âœ… ÙŠÙ…Ø±Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù€ Sidebar
```

---

## ğŸ¨ Ø§Ù„Ø´ÙƒÙ„:

### **Desktop - Expanded:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ [R] Roboweb    [â†’]â”‚                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚  â”‚ [ğŸ‘¤] Ù…Ø­Ù…Ø¯        â”‚                     â”‚
â”‚  â”‚ Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…      â”‚                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚  â”‚ ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…   â”‚                     â”‚
â”‚  â”‚ ğŸ“„ Ø§Ù„Ø¹Ù‚ÙˆØ¯        â”‚                     â”‚
â”‚  â”‚ ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡       â”‚                     â”‚
â”‚  â”‚ ğŸ“ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹      â”‚                     â”‚
â”‚  â”‚ ğŸ’¬ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„       â”‚                     â”‚
â”‚  â”‚ ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª [3]â”‚                     â”‚
â”‚  â”‚ âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª     â”‚                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚  â”‚ ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬  â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Desktop - Collapsed:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”                                     â”‚
â”‚  â”‚[R]â”‚                                     â”‚
â”‚  â”‚[â†]â”‚                                     â”‚
â”‚  â”œâ”€â”€â”€â”¤                                     â”‚
â”‚  â”‚ğŸ  â”‚                                     â”‚
â”‚  â”‚ğŸ“„ â”‚                                     â”‚
â”‚  â”‚ğŸ‘¥ â”‚                                     â”‚
â”‚  â”‚ğŸ“ â”‚                                     â”‚
â”‚  â”‚ğŸ’¬ â”‚                                     â”‚
â”‚  â”‚ğŸ””â€¢â”‚ (Ù†Ù‚Ø·Ø© Ø­Ù…Ø±Ø§Ø¡)                       â”‚
â”‚  â”‚âš™ï¸ â”‚                                     â”‚
â”‚  â”œâ”€â”€â”€â”¤                                     â”‚
â”‚  â”‚ğŸšª â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”˜                                     â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Mobile - Open:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Overlay]                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ [R] Roboweb      â”‚                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚  â”‚ [ğŸ‘¤] Ù…Ø­Ù…Ø¯        â”‚                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚  â”‚ ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…   â”‚                     â”‚
â”‚  â”‚ ğŸ“„ Ø§Ù„Ø¹Ù‚ÙˆØ¯        â”‚                     â”‚
â”‚  â”‚ ...              â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ø§Ù„ÙƒÙˆØ¯:

### **AppSidebar Component:**
```typescript
export function AppSidebar({ userRole, userId, userName }) {
  const [isCollapsed, setIsCollapsed] = useState(false)
  const [isMobileOpen, setIsMobileOpen] = useState(false)
  const unreadCount = useUnreadNotifications(userId)

  // Load from localStorage
  useEffect(() => {
    const saved = localStorage.getItem("sidebar-collapsed")
    if (saved !== null) {
      setIsCollapsed(saved === "true")
    }
  }, [])

  const toggleCollapsed = () => {
    const newState = !isCollapsed
    setIsCollapsed(newState)
    localStorage.setItem("sidebar-collapsed", String(newState))
  }

  // Navigation items based on role
  const getNavItems = () => {
    if (userRole === "admin") {
      return [
        { title: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…", href: "/admin", icon: LayoutDashboard },
        { title: "Ø§Ù„Ø¹Ù‚ÙˆØ¯", href: "/admin/contracts", icon: FileText },
        { title: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª", href: "/admin/notifications", icon: Bell, badge: unreadCount },
        // ...
      ]
    }
    // ...
  }

  return (
    <>
      {/* Mobile Overlay */}
      {isMobileOpen && <div className="overlay" onClick={() => setIsMobileOpen(false)} />}

      {/* Sidebar */}
      <aside className={cn(
        "fixed right-0 top-0 h-screen transition-all duration-300",
        isCollapsed ? "w-20" : "w-64"
      )}>
        {/* Header */}
        <div className="p-4">
          {!isCollapsed && <span>Roboweb</span>}
          <Button onClick={toggleCollapsed}>
            {isCollapsed ? <ChevronLeft /> : <ChevronRight />}
          </Button>
        </div>

        {/* User Info */}
        {!isCollapsed && (
          <div className="p-4">
            <p>{userName}</p>
            <p>{userRole}</p>
          </div>
        )}

        {/* Navigation */}
        <nav>
          {navItems.map((item) => (
            <Link href={item.href} className={cn(
              "flex items-center gap-3 p-3 rounded-lg transition-all",
              isActive && "bg-primary text-primary-foreground",
              isCollapsed && "justify-center"
            )}>
              <Icon />
              {!isCollapsed && <span>{item.title}</span>}
              {!isCollapsed && item.badge > 0 && <Badge>{item.badge}</Badge>}
              {isCollapsed && item.badge > 0 && <div className="dot" />}
            </Link>
          ))}
        </nav>

        {/* Logout */}
        <form action={logout}>
          <Button>
            <LogOut />
            {!isCollapsed && <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>}
          </Button>
        </form>
      </aside>

      {/* Spacer for main content */}
      <div className={cn(
        "transition-all duration-300",
        isCollapsed ? "mr-20" : "mr-64"
      )} />
    </>
  )
}
```

---

## ğŸ¨ Animations:

### **Collapse/Expand:**
```css
transition-all duration-300 ease-in-out

/* Width changes smoothly */
w-64 â†’ w-20
mr-64 â†’ mr-20

/* Content fades in/out */
opacity-100 â†’ opacity-0
```

### **Hover Effects:**
```css
hover:bg-accent hover:text-accent-foreground
transition-all duration-200

/* Active state */
bg-primary text-primary-foreground
```

### **Mobile Slide:**
```css
translate-x-full â†’ translate-x-0
transition-all duration-300 ease-in-out
```

---

## ğŸ“± Responsive Breakpoints:

### **Desktop (lg: 1024px+):**
- âœ… Sidebar Ø«Ø§Ø¨Øª Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†
- âœ… Ø²Ø± Toggle ÙŠØ¸Ù‡Ø±
- âœ… ÙŠØ­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ localStorage

### **Mobile (< 1024px):**
- âœ… Sidebar Ù…Ø®ÙÙŠ Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ
- âœ… Ø²Ø± Toggle ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†
- âœ… Overlay Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
- âœ… ÙŠØºÙ„Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Overlay
- âœ… ÙŠØºÙ„Ù‚ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„ØµÙØ­Ø©

---

## âœ… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙØ­Ø¯Ø«Ø©:

### **1. app/admin/layout.tsx** âœ…
```typescript
âœ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Sidebar Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ù€ SidebarLayout
âœ… ØªÙ…Ø±ÙŠØ± userRole="admin"
âœ… ØªÙ…Ø±ÙŠØ± userId Ùˆ userName
```

### **2. app/affiliate/layout.tsx** âœ…
```typescript
âœ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Sidebar Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ù€ SidebarLayout
âœ… ØªÙ…Ø±ÙŠØ± userRole="affiliate"
```

### **3. app/client/layout.tsx** âœ…
```typescript
âœ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Sidebar Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ù€ SidebarLayout
âœ… ØªÙ…Ø±ÙŠØ± userRole="client"
```

---

## ğŸ¯ Features:

### **1. localStorage Persistence:**
```typescript
// Save state
localStorage.setItem("sidebar-collapsed", "true")

// Load on mount
const saved = localStorage.getItem("sidebar-collapsed")
setIsCollapsed(saved === "true")
```

### **2. Auto-close on mobile:**
```typescript
useEffect(() => {
  setIsMobileOpen(false)
}, [pathname])
```

### **3. Badge Notifications:**
```typescript
const unreadCount = useUnreadNotifications(userId)

// In expanded mode
<Badge>{unreadCount}</Badge>

// In collapsed mode
{unreadCount > 0 && <div className="w-2 h-2 bg-destructive rounded-full" />}
```

### **4. Active State:**
```typescript
const isActive = pathname === item.href || pathname.startsWith(item.href + "/")

className={cn(
  isActive && "bg-primary text-primary-foreground"
)}
```

---

## ğŸ‰ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:

**Sidebar Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ù…Ù…ÙŠØ²Ø§Øª Google-level**:
- âœ… Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
- âœ… Collapse/Expand Ù…Ø¹ localStorage
- âœ… Smooth animations (300ms)
- âœ… Mobile responsive Ù…Ø¹ Overlay
- âœ… Badge notifications Ù…Ø¹ Realtime
- âœ… Active state highlighting
- âœ… Hover effects
- âœ… Clean modern design
- âœ… RTL support
- âœ… Accessibility

**Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬! ğŸš€âœ¨**
