# ุฅุนุฏุงุฏ ูุธุงู Workflow ููุนููุฏ

## โ๏ธ ููู ุฌุฏุงู: ูุฌุจ ุชุทุจูู SQL ุฃููุงู!

ูุจู ุฃู ุชุนูู ุตูุญุงุช ุงูุนููุฏ ุจุดูู ุตุญูุญุ ูุฌุจ ุชุทุจูู ุงูุชุญุฏูุซุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### 1. ุงูุชุญ Supabase SQL Editor
```
https://supabase.com/dashboard/project/YOUR_PROJECT/sql
```

### 2. ุทุจู ูุฐู ุงูู Scripts ุจุงูุชุฑุชูุจ:

#### ุฃ) Notifications Table (ุฅุฐุง ูู ุชุทุจูู)
```sql
-- ุงูุณุฎ ูุงูุตู ูู: scripts/23-create-notifications.sql
-- ุงุถุบุท Run
```

#### ุจ) Contracts Workflow Update
```sql
-- ุงูุณุฎ ูุงูุตู ูู: scripts/24-update-contracts-workflow.sql
-- ุงุถุบุท Run
```

### 3. ุชุญูู ูู ุงููุฌุงุญ
ุจุนุฏ ุชุทุจูู ุงูู SQLุ ูุฌุจ ุฃู ุชุฑู:
- โ ุฌุฏูู `notifications` ููุฌูุฏ
- โ ุฌุฏูู `contract_activities` ููุฌูุฏ
- โ ุฃุนูุฏุฉ ุฌุฏูุฏุฉ ูู `contracts`:
  - `workflow_status`
  - `admin_signature_data`
  - `client_signature_data`
  - `contract_link_token`
  - ูุบูุฑูุง...

### 4. ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ
```bash
# ุงุถุบุท Ctrl+C ูุฅููุงู ุงูุณูุฑูุฑ
# ุซู ุดุบูู ูุฑุฉ ุฃุฎุฑู
npm run dev
```

---

## ๐ฏ ุจุนุฏ ุงูุชุทุจูู:

### ุตูุญุงุช ุงูุนููุฏ ุณุชุนูู:
- โ `/affiliate/contracts/[id]` - ุนุฑุถ ุงูุนูุฏ ููุดุฑูู
- โ `/admin/contracts/[id]` - ุนุฑุถ ูุชูููุน ุงูุนูุฏ ูููุณุคูู
- โ `/client/contracts/[id]` - ุนุฑุถ ูุชูููุน ุงูุนูุฏ ููุนููู

### Workflow ุณูุนูู:
1. ุงูุดุฑูู ููุดุฆ ุนูุฏ โ `pending_admin_signature`
2. ุงููุณุคูู ูููุน โ `pending_client_signature`
3. ุงูุนููู ูููุน โ `completed`

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:

### ุฅุฐุง ุธูุฑ 404 ุนูุฏ ูุชุญ ุงูุนูุฏ:
1. ุชุฃูุฏ ุฃู SQL ุชู ุชุทุจููู
2. ุชุญูู ูู Console ููุฃุฎุทุงุก
3. ุชุฃูุฏ ุฃู `affiliate_id` ููุฌูุฏ ูู ุงูุนูุฏ

### ุฅุฐุง ุธูุฑ ุฎุทุฃ ูู Database:
```
column "workflow_status" does not exist
```
ูุนูุงูุง: ูู ูุชู ุชุทุจูู SQL ุจุนุฏ!

---

## ๐ ููุงุญุธุงุช:

- ุงูุนููุฏ ุงููุฏููุฉ ุณุชุญุตู ุนูู `workflow_status = 'draft'` ุชููุงุฆูุงู
- ุณูุชู ุชูููุฏ `contract_link_token` ููู ุงูุนููุฏ ุงููุฏููุฉ
- ุงูู Real-time updates ุณุชุนูู ุชููุงุฆูุงู ุจุนุฏ ุงูุชุทุจูู
